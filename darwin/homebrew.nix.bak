{ pkgs, lib, ... }:
{
  homebrew = {
    enable = true;
    onActivation = {
      cleanup = "none";
      upgrade = true;
    };
    global = {
      brewfile = true;
      lockfiles = true;
    };
    brews = [
      "mas" # Mac App Store CLI
      "mise"

      # Development tools
      "aws-sso-cli"  # AWS SSO authentication
      "awscli"       # AWS command line interface
      "just"         # Command runner
      "helm"         # Kubernetes package manager
      "scrcpy"       # Android screen mirroring

      # System tools
      "pandoc"       # Universal document converter
      "gnupg"        # GNU Privacy Guard
      "gemini-cli"   # Gemini protocol client

      # AI tools
      "charmbracelet/tap/crush"  # AI coding agent for terminal
      "tw93/tap/mole"            # Terminal file manager

      # VCS tools
      "jjui"                     # TUI for Jujutsu

    ];
    casks = [
      # Core productivity (existing)
      "alfred"
      "caffeine"
      "ghostty@tip"
      "raycast"
      "lunar"
      "jordanbaird-ice"
      "choosy"
      "obsidian"
      "beeper"
      
      # Security & Virtualization
      "1password"
      "1password-cli"
      "nordvpn"
      "tailscale-app"
      "parallels"
      "jetbrains-toolbox"
      
      # Communication Apps
      "discord"
      "slack"
      "telegram"
      "signal"
      "whatsapp"
      "microsoft-teams"
      "microsoft-outlook"
      
      # Browsers
      "arc"
      "brave-browser"
      "firefox"
      "google-chrome"
      "microsoft-edge"
      "zen"
      
      # Development Tools
      "zed"
      "cursor"
      "orbstack"
      "chatgpt"
      "visual-studio-code"
      "android-platform-tools"
      "figma"
      "miro"


      "codex"        # OpenAI coding agent CLI
      
      # Fonts (managed by Nix fonts/ directory)
      "font-fira-code-nerd-font"
      
    ];
    masApps = {
      # Productivity & System
      #"Magnet" = 441258766;                    # Window manager
      #"AdBlock Pro" = 1018301773;              # Safari ad blocker
      #"Drafts" = 1435957248;                   # Quick note capture
      #"Obsidian Web Clipper" = 6720708363;     # Web clipper for Obsidian
      #"Ghostery Privacy Ad Blocker" = 6504861501;  # Privacy ad blocker
      #"Perplexity" = 6714467650;               # AI-powered search

      # Smart Home & Security
      #"Okta Verify" = 490179405;               # 2FA authentication
    };
  };
}
